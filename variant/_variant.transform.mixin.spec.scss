// Modules.
@use '../class';
@use '../function';
@use '../list';
@use '../map';
@use '../meta';
@use '../property';
@use '../selector';
@use '../values';
@use '../variant';
@use 'class' as v-class;
@use 'indicator';
@use 'property' as v-property;

function.$functions: map.merge(function.$functions, (variant: meta.module-functions(variant)));

// Test.
@include variant.transform(
  // (
  //   border: 1px solid red,
  //   (border, outline): (top: 2px solid blue)
  // )

  // ((border: outline): 'red')
  // ((border: outline): ((start start: (top, bottom)): 'red'))
  // (((item1, item2): (outline1, outline2)): (((start1, start2): (top, bottom)): 'red'))
  // ((border1, border2): ((start1, start2): (((test1, test2): (top, bottom)): (((test3, test4): (color, radius)): 'red'))))

  // (position: variant.create((absolute, relative, static)))
  // (position: (absolute: absolute, relative: relative, static: static))
  // (--selector-nest ((border, outline), top): 'red')
  // (position: --variant-create ((absolute, relative, static),))
  // (--selector-nest ((border, outline), top): --variant-create ((absolute, relative, static),))
  // (border: (top: (left: (color: red))))

  // TODO: Check.
  // (((basic1, basic2): (border, outline)): (((y1, y2): (top, bottom)): (((color, radius): (start, start)): (((primary, secondary): (color, radius)): 1px solid red))))
  // ((border, outline): ((top, bottom): (primary: 1px solid red)))

  // FEATURE: Variant 2
  // (border: (top: 1px solid red))
  // (border: (top: (1px solid red, 2px solid blue)))

  // Variant.
  // ((border, outline): (top: 1px solid red))
  // ((border, outline): ((top: ()): 1px solid red))
  // ((border, outline): ((top, bottom): 1px solid red))
  // ((border, outline): (((top, bottom): ()): 1px solid red))

  // Combined variant.
  // (true (border, outline): ((top, bottom): 1px solid red))
  // ((border, outline): (true (top, bottom): 1px solid red))
  // (true (border, outline): (true (top, bottom): 1px solid red))

  // ((border, outline) top: (color: 1px solid red))
  // ((border, outline) start: ((start, end) color: 1px solid red))
  // ((border, outline) '+top': (color: 1px solid red)) // TODO:

  // ((basic: border): (top: 1px solid red))
  // ((basic: border): ((one: top): 1px solid red))
  // ((basic: border): ((one: (top, bottom)): 1px solid red))
  // ((basic: border): ((one: (top, bottom) color): 1px solid red))

  // ((basic: (border, outline)): (top: 1px solid red))
  // ((basic: (border, outline)): ((one: top): 1px solid red))
  // ((basic: (border, outline)): ((one: (top, bottom)): 1px solid red))

  // (((basic1, basic2): border): (top: 1px solid red))
  // (((basic1, basic2): (border, outline)): (top: 1px solid red))
  // ((basic1: border, basic2: border): (top: 1px solid red))

  // (((basic1, basic2): (border, outline)): ((top, bottom): 1px solid red))
  // (((basic1, basic2): (border, outline)): ((one: (top, bottom)): 1px solid red))

  // ((border, outline): ((top, bottom): 1px solid red, bottom: 2px solid blue))
  // (((basic1, basic2): border, extended: outline): 1px solid red, outline: 2px solid blue)

// FEATURE: Variant 3.
// (border: (top: (primary: 1px solid red)))
// ((border, outline): (top: (primary: 1px solid red)))
// ((border, outline): ((top, bottom): (primary: 1px solid red)))
// ((border, outline): ((top, bottom): ((primary, secondary): 1px solid red)))
// (border: (top: ((primary, secondary): 1px solid red)))
// (border: ((top, bottom): ((primary, secondary): 1px solid red)))

// ((basic1: (border, outline)): (top: (primary: 1px solid red)))
// ((basic1 basic2: (border, outline)): (top bottom: (primary red: 1px solid red)))

// ((basic1: (border, outline)): ((top bottom: (top, bottom)): (primary: 1px solid red)))
// ((basic1: (border, outline)): (((top, bottom): (top, bottom)): (primary: 1px solid red)))
// ((basic1: (border, outline)): (((top, bottom): (top, bottom)): ((primary, secondary): 1px solid red)))

// (((basic1, basic2): (border, outline)): (top bottom: (primary red: 1px solid red, secondary: 2px solid blue)))
// (((basic1, basic2): (border, outline)): (((top, bottom): (top, bottom)): ((primary, secondary): 1px solid red)))

// (((basic1, basic2): (border, outline)): (((y1, y2): (top, bottom)): ((primary, secondary): 1px solid red)))


// FEATURE: Variant 4.
// ((border, outline): ((top, bottom): ((color, radius): (primary: 1px solid red))))
// ((border, outline): ((top, bottom): ((color, radius): ((primary, secondary): 1px solid red))))

// ((border, outline): ((top, bottom): ((color, radius): (primary: 1px solid red, secondary: 2px solid blue))))

// ((border, outline) start: ((start, bottom): ((color, radius): (primary: 1px solid red))))
// ((border, outline) start: ((start, bottom): ((color, radius): ((primary, secondary): 1px solid red))))

// ((border, outline): ((start, bottom) start: ((color, radius): (primary: 1px solid red))))
// ((border, outline): ((start, bottom) start: ((color, radius): ((primary, secondary): 1px solid red))))

// ((border, outline): ((start, bottom): ((color, radius) end: (primary: 1px solid red))))
// ((border, outline): ((start, bottom): ((color, radius) end: ((primary, secondary): 1px solid red))))

// ((border, outline) item1: ((start, bottom) item2: ((color, radius) item3: (primary: 1px solid red))))
// ((border, outline) item1: ((start, bottom) item2: ((color, radius) item3: ((primary, secondary): 1px solid red))))

// ((border, outline): ((top, bottom): ((color, radius): ((primary, secondary): 1px solid red))))
// ((border, outline): ((top, bottom): (color: (border: 1px solid red))))
// ((border, outline): ((top, bottom): (color: (primary: 1px solid red))))

// ((basic: (border, outline)): ((top, bottom): ((color, radius): (primary: 1px solid red))))

// (((basic1, basic2): (border, outline)): (((y1, y2): (top, bottom)): ((color, radius): ((primary, secondary): 1px solid red))))
// (((basic1, basic2): (border, outline)): (((y1, y2): (top, bottom)): (((end1, end2): (color, radius)): ((primary, secondary): 1px solid red))))

  ,
  false false false,
  // (1: (class: (base: bbbb)), class: (prefix: spectre, attribute: color, suffix: end))
) using($resolved) {
  @each $resolved in $resolved {
    @include class.content(
      map.get($resolved, (class, name)),
      ':visited',
      (border: b, basic1: bas),
    ) {
      @include property.set(
        (map.get($resolved, (property, name)): map.get($resolved, (property, value))),
        true,

        // function to call
        $arguments: (dictionary: (border: b, basic1: bas)),
      );
    }
  }
}

// 1: (class: (prefix: border, suffix: test), property: (base: border, attribute: radius)),
// 2: (class: (prefix: border, suffix: end), property: (middle: null)),

// FEATURE: Variant 1
// (border: 1px solid red)
// ((border, outline): 1px solid red)
// (border: 1px solid red, outline: 2px solid blue)

// (border top: 1px solid red)
// ((border color, border top): 1px solid red)
// (true (border color, border top): 1px solid red)

// (border (top, bottom): 1px solid red)
// ((border, outline) top: 1px solid red)
// ((border, outline) '+top': 1px solid red) // TODO:

// (border (top, bottom) color: 1px solid red)
// ((border (top, bottom) color, outline (top, bottom) color): 1px solid red)
// (border (top, bottom) '+color': 1px solid red) // TODO:

// (((basic 1, basic 2): border): 1px solid red)
// ((basic-1: border, basic-2: border): 1px solid red)

// ((basic: (border, outline)): 1px solid red)
// ((basic: (border top, outline bottom)): 1px solid red)
// ((basic: border (top,bottom)): 1px solid red)

// (((basic1, basic2): (border, outline)): 1px solid red)
// (((basic1, basic2): (border, outline)): 1px solid red)


// FEATURE: Variant 2.
// (border: (top: 1px solid red))
// ((border, outline): (top: 1px solid red))

// ((border, outline): ((top: ()): 1px solid red))
// ((border, outline): (((top, bottom): ()): 1px solid red))
// ((border, outline): ((top, bottom): 1px solid red))

// (true (border, outline): ((top, bottom): 1px solid red))
// ((border, outline): (true (top, bottom): 1px solid red))
// (true (border, outline): (true (top, bottom): 1px solid red))

// ((border, outline) top: (color: 1px solid red))
// ((border, outline) start: ((start, end) color: 1px solid red))
// ((border, outline) '+top': (color: 1px solid red)) // TODO:

// ((basic: border): (top: 1px solid red))
// ((basic: border): ((one: top): 1px solid red))
// ((basic: border): ((one: (top, bottom)): 1px solid red))

// ((basic: (border, outline)): (top: 1px solid red))
// ((basic: (border, outline)): ((one: top): 1px solid red))
// ((basic: (border, outline)): ((one: (top, bottom)): 1px solid red))

// (((basic1, basic2): border): (top: 1px solid red))
// (((basic1, basic2): (border, outline)): (top: 1px solid red))
// ((basic1: border, basic2: border): (top: 1px solid red))

// (((basic1, basic2): (border, outline)): ((top, bottom): 1px solid red))
// (((basic1, basic2): (border, outline)): ((one: (top, bottom)): 1px solid red))

// ((border, outline): ((top, bottom): 1px solid red, bottom: 2px solid blue))
// (((basic1, basic2): border, extended: outline): 1px solid red, outline: 2px solid blue)

// FEATURE: Variant 3
// (border: (top: (primary: 1px solid red)))
// ((border, outline): (top: (primary: 1px solid red)))
// ((border, outline): ((top, bottom): (primary: 1px solid red)))
// ((border, outline): ((top, bottom): ((primary, secondary): 1px solid red)))
// (border: (top: ((primary, secondary): 1px solid red)))
// (border: ((top, bottom): ((primary, secondary): 1px solid red)))

// ((basic1: (border, outline)): (top: (primary: 1px solid red)))
// ((basic1 basic2: (border, outline)): (top bottom: (primary red: 1px solid red)))

// ((basic1: (border, outline)): ((top bottom: (top, bottom)): (primary: 1px solid red)))
// ((basic1: (border, outline)): (((top, bottom): (top, bottom)): (primary: 1px solid red)))
// ((basic1: (border, outline)): (((top, bottom): (top, bottom)): ((primary, secondary): 1px solid red)))

// (((basic1, basic2): (border, outline)): (top bottom: (primary red: 1px solid red, secondary: 2px solid blue)))
// (((basic1, basic2): (border, outline)): (((top, bottom): (top, bottom)): ((primary, secondary): 1px solid red)))

// (((basic1, basic2): (border, outline)): (((y1, y2): (top, bottom)): ((primary, secondary): 1px solid red)))


// FEATURE: Variant 4
// ((border, outline): ((top, bottom): ((color, radius): (primary: 1px solid red))))
// ((border, outline): ((top, bottom): ((color, radius): ((primary, secondary): 1px solid red))))

// ((border, outline): ((top, bottom): ((color, radius): (primary: 1px solid red, secondary: 2px solid blue))))

// ((border, outline) start: ((start, bottom): ((color, radius):s (primary: 1px solid red))))
// ((border, outline) start: ((start, bottom): ((color, radius): ((primary, secondary): 1px solid red))))

// ((border, outline): ((start, bottom) start: ((color, radius): (primary: 1px solid red))))
// ((border, outline): ((start, bottom) start: ((color, radius): ((primary, secondary): 1px solid red))))

// ((border, outline): ((start, bottom): ((color, radius) end: (primary: 1px solid red))))
// ((border, outline): ((start, bottom): ((color, radius) end: ((primary, secondary): 1px solid red))))

// ((border, outline) item1: ((start, bottom) item2: ((color, radius) item3: (primary: 1px solid red))))
// ((border, outline) item1: ((start, bottom) item2: ((color, radius) item3: ((primary, secondary): 1px solid red))))

// ((border, outline): ((top, bottom): ((color, radius): ((primary, secondary): 1px solid red))))
// ((border, outline): ((top, bottom): (color: (border: 1px solid red))))
// ((border, outline): ((top, bottom): (color: (primary: 1px solid red))))

// ((basic: (border, outline)): ((top, bottom): ((color, radius): (primary: 1px solid red))))

// (((basic1, basic2): (border, outline)): (((y1, y2): (top, bottom)): ((color, radius): ((primary, secondary): 1px solid red))))
// (((basic1, basic2): (border, outline)): (((y1, y2): (top, bottom)): (((end1, end2): (color, radius)): ((primary, secondary): 1px solid red))))



// @include class.content((border top, outline bottom)) {
// @include class.content((border (top, bottom) color)) {
//   cursor: crosshair;
// }


// Examples.
// --
// Variant 1
// --
// @include build((border: 1px solid red));
// @include build((border top: 1px solid red));
// @include build(((border, outline): 1px solid red));
// @include build(((border top, outline top): 1px solid red));
// @include build(((border, outline) top: 1px solid red));
// @include build((border: 1px solid red, outline: 2px solid blue));
// @include build((
//   (border, outline): 1px solid red,
//   (border, outline) (top, bottom): 1px solid red,
//   (top, bottom): 1px solid red
// ));


// --
// @include build((((basic 1, basic 2): border): 1px solid red));
// @include build(((basic-1: border, basic-2: border): 1px solid red));


// --
// @include build(((basic: (border, outline)): 1px solid red));
// @include build((((basic1, basic2): (border, outline)): 1px solid red));
// @include build((((basic1, basic2): (border, outline) (top, bottom)): 1px solid red));


// --
// Variant 2
// --
// @include build((border: (top: 1px solid red)));
// @include build((border: ((top, bottom): 1px solid red)));
// @include build(((border, outline): (top: 1px solid red)));
// @include build(((border, outline): ((top, bottom): 1px solid red)));
// @include build(((border, outline) top: (color: 1px solid red)));
// @include build(((border, outline) start: ((start, end) color: 1px solid red))); // TODO:

// @include build(((basic: border): (top: 1px solid red)));
// @include build(((basic: (border, outline)): (top: 1px solid red)));
// @include build((((basic1, basic2): (border, outline)): (top: 1px solid red)));
// @include build(((basic1: border, basic2: border): (top: 1px solid red)));
// @include build(((border, outline): ((top, bottom): 1px solid red, bottom: 2px solid blue)));
// @include build((((basic1, basic2): border, extended: outline): 1px solid red, outline: 2px solid blue));


// --
// Variant 3
// --
// @include build((border: (top: (primary: 1px solid red))));
// @include build(((border, outline): (top: (primary: 1px solid red))));
// @include build((border: ((top, bottom): (primary: 1px solid red))));
// @include build((border: (top: ((primary, secondary): 1px solid red))));

// @include build(((border, outline): ((top, bottom): (primary: 1px solid red))));
// @include build(((border, outline) top: ((color, radius): (primary: 1px solid red))));
// @include build(((border, outline): ((top, bottom): (primary: 1px solid red, secondary: 1px solid red))));
// @include build(((border, outline): ((top, bottom): ((primary, secondary): 1px solid red, (third, fourth): 2px solid blue))));


// @include build((border: (top: (primary: 1px solid red, secondary: 2px solid blue))));
// @include build((border: (top: (primary: 1px solid red))));
// @include build((border: ((top, right): (border: 1px solid red, outline: 2px solid blue))));
