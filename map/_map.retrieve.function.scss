// Sass.
@use 'sass:map';

// Functions.
@use 'map.pick.function' as map-pick;

// Status: DONE
// The `map.retrieve()` function retrieves a value from `$map` by `$method` get or pick with required `$key` and additional `$keys`.
// @param `$method` The method get(`map.get()`)  or pick(`map.pick()`) used to retrieve the value.
// @param `$map` A map to retrieve the value by using `$method`, `$key` and optional `$keys`.
// @param `$key` Required key to `get` or `pick` the value from `$map`.
// @arbitrary `$keys...` Optional keys on pick or nested keys on get to retrieve from `$map`.
// @returns The returned value is a retrieved value by `get` with required `$key` and optional nested `$keys`
// or `pick` method with required `$key` and optional `$keys` from `$map`.
@function retrieve($method, $map, $key, $keys...) {
  @return $method == get and map.get($map, $key, $keys...)
    or $method == pick and map-pick.pick($map, $key, $keys...);
}

// Examples.
// $-dictionary-example: (
//   general: (word: słowo, (wrapper, wrap): owijka, (technology, technologia): tech, color: c),
//   class: (prefix: class-prefix, separator: class-separator, suffix: class-suffix, calendars: (calendar: cal), labels: (label: lab)),
//   prefix: spectre,
//   border: b,
//   color: c,
//   separator: '-',
//   suffix: end,
//   outline: o,
//   var: (prefix: var-prefix, suffix: var-suffix)
// );

// key
// @debug retrieve(get, $-dictionary-example, general); // (word: słowo, (wrapper, wrap): owijka, (technology, technologia): tech, color: c)
// @debug retrieve(pick, $-dictionary-example, general); // (general: (word: słowo, (wrapper, wrap): owijka, (technology, technologia): tech, color: c))

// get nested key
// @debug retrieve(get, $-dictionary-example, general, word); // słowo

// multiple picks
// @debug retrieve(pick, $-dictionary-example, general, var); // (general: (word: słowo, (wrapper, wrap): owijka, (technology, technologia): tech, color: c), var: (prefix: var-prefix, suffix: var-suffix))

// null
// @debug retrieve(get, $-dictionary-example, test); // null
// @debug retrieve(pick, $-dictionary-example, test); // null
