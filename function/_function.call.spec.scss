// Sass.
@use 'sass:map';

// Modules.
@use '../function';
@use '../meta';
@use '../values';
@use '../var';

// Custom functions.
meta.$module-functions: (
  // string
  'meta:call': meta.get-function(call, $module: meta),

  // map
  (meta: call): meta.get-function(call, $module: meta),

  // list
  meta: (call: meta.get-function(call, $module: meta))
);

meta.$module-functions: map.deep-merge(meta.$module-functions, (
  values: meta.module-functions(values),
  var: meta.module-functions(var),
));


// Examples `function.call()`
// List
// @debug function.call(selector-nest, (top, bottom) color); // top color, bottom color

// name
// @debug function.call(var-get, (unit 2)); // var(--s-unit-2)
// @debug function.call(var-get, (unit 5)); // var(--s-unit-5)
// @debug function.call(selector-nest, (padding, margin) (top, bottom)); // padding top, padding bottom, margin top, margin bottom
// @debug function.call(values-combine, (padding, margin top, bottom)); // padding (margin top) bottom
// @debug function.call(--color primary dark); // var(--s-primary-color-dark) // TODO: color module

// prefix
// @debug function.call(---var-get, (unit 2), ---); // var(--s-unit-2)
// @debug function.call(___var-get, unit 2, ___); // var(--s-unit-2)
// @debug function.call('@var-get', unit 2, '@'); // var(--s-unit-2)
// @debug function.call('&var-get', unit 2, '&'); // var(--s-unit-2)

// adjust
// @debug function.call(--var-get, (unit 5) ('+' 15%), '--'); // calc(var(--s-unit-5) + 15%)
// @debug function.call(--var-get, (unit 5) ('/' 15%), '--'); // calc(var(--s-unit-5) / 15%)
// @debug function.call(--var-get, (unit 5) ('*' 15%), '--'); // calc(var(--s-unit-5) * 15%)

// TODO: color
// @debug function.call(--color (primary dark) 15%); // hsla(var(--s-primary-color-dark-h), var(--s-primary-color-dark-s), calc(var(--s-primary-color-dark-l) + 15%), var(--s-primary-color-dark-a))
// @debug function.call(--color (primary dark) 15% 0.5); // hsla(var(--s-primary-color-dark-h), var(--s-primary-color-dark-s), calc(var(--s-primary-color-dark-l) + 15%), calc(var(--s-primary-color-dark-a) + 0.5))
// @debug function.call(--color (primary dark) 15% 0.5 5%); // hsla(calc(var(--s-primary-color-dark-h) + 15%), var(--s-primary-color-dark-s), calc(var(--s-primary-color-dark-l) + 0.5), calc(var(--s-primary-color-dark-a) + 5%))
// @debug function.call(--color (primary dark) 15deg 5% 15% 0.1); // hsla(calc(var(--s-primary-color-dark-h) + 15deg), calc(var(--s-primary-color-dark-s) + 5%), calc(var(--s-primary-color-dark-l) + 15%), calc(var(--s-primary-color-dark-a) + 0.1))
